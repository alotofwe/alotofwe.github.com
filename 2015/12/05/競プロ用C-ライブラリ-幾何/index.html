<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>競プロ用C++ライブラリ-幾何 | HPA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="keywords" content="">
  

  <meta name="description" content="ほとんどSpaghetti Sourceのコピペです．
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909">
<meta property="og:type" content="article">
<meta property="og:title" content="競プロ用C++ライブラリ-幾何">
<meta property="og:url" content="http://yoursite.com/2015/12/05/競プロ用C-ライブラリ-幾何/index.html">
<meta property="og:site_name" content="HPA">
<meta property="og:description" content="ほとんどSpaghetti Sourceのコピペです．
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909">
<meta property="og:updated_time" content="2015-12-05T06:01:57.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="競プロ用C++ライブラリ-幾何">
<meta name="twitter:description" content="ほとんどSpaghetti Sourceのコピペです．
1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909">
  
  
    <link rel="icon" href="/favicon.png">
  

  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  
  
    <link rel="stylesheet" href="/scrollLoading/style.css" type="text/css">
  
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-71009413-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



  
    
      <style type="text/css">
          .logo { background-image:url(https://pbs.twimg.com/profile_images/378800000585342253/5e542f132b0e1923694d1d699eff982d.jpeg);
          
            width: 80px;
          
          
            height: 80px;
          
          
            -webkit-background-size: 80px 80px;
            -moz-background-size: 80px 80px;
            background-size: 80px 80px;
          
          }

        
          #footer .logo {
          
            width: 80px;
          
          
            height: 80px;
          
          
            -webkit-background-size: 80px 80px;
            -moz-background-size: 80px 80px;
            background-size: 80px 80px;
          
          }
        
      </style>
    
  

  
    <link href='//fonts.useso.com/css?family=Titillium+Web:300,400,600' rel='stylesheet' type='text/css'>
    <link href="//fonts.useso.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css" type="text/css">
</head>

<body>
  <div id="wrap">
    <header id="header">
  <div id="header-outer" class="outer">
    <div class="container">
      <div class="container-inner">
        <div id="header-title">
          <h1 class="logo-wrap">
            <a href="/" class="logo"></a>
          </h1>
          
            <h2 class="subtitle-wrap">
              <p class="subtitle">healthy programmer alotofwe</p>
            </h2>
          
        </div>
        <div id="header-inner" class="nav-container">
          <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
          <div class="nav-container-inner">
            <ul id="main-nav">
              
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/">Home</a></li>
              
                    <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/application/">application</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/application/rails/">rails</a></li></ul></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/競プロ/">競プロ</a><ul class="main-nav-list-child"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/競プロ/CodeFestival/">CodeFestival</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/競プロ/library/">library</a></li></ul></li></ul>
                  
                <li class="main-nav-list-item" ><a class="main-nav-list-link" href="/2015/12/03/ABOUT-ME">About</a></li>
              
            </ul>
            <nav id="sub-nav">
              <div id="search-form-wrap">
                
                  <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
                
              </div>
            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>
    <div class="container">
      <div class="main-body container-inner">
        <div class="main-body-inner">
          <section id="main">
            <div class="main-body-header">

              <h1 class="header"><a class="page-title-link" href="/categories/競プロ/">競プロ</a><i class="icon fa fa-angle-right"></i><a class="page-title-link" href="/categories/競プロ/library/">library</a></h1>
            </div>
            <div class="main-body-content">
              
  <article id="post-競プロ用C-ライブラリ-幾何" class="article article-single article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
      <!--  -->
      
        <header class="article-header">
          
  
    <h1 class="article-title" itemprop="name">
      競プロ用C++ライブラリ-幾何
    </h1>
  

        </header>
      
      <p class="article-byline">
        <a href="/2015/12/05/競プロ用C-ライブラリ-幾何/" class="article-date">
  <time datetime="2015-12-05T05:01:24.000Z" itemprop="datePublished">2015-12-05</time>
</a>
      </p>
      <div class="article-entry" itemprop="articleBody">
        <p>ほとんど<a href="http://www.prefield.com/algorithm/" target="_blank" rel="external">Spaghetti Source</a>のコピペです．</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> double EPS = 1e-8;</span><br><span class="line"><span class="keyword">const</span> double <span class="keyword">INF</span> = 1e12;</span><br><span class="line">#define X <span class="literal">real</span>()</span><br><span class="line">#define Y imag()</span><br><span class="line">#define curr(P, i) P[i]</span><br><span class="line">#define next(P, i) P[(i+1)%P.size()]</span><br><span class="line">#define prev(P, i) P[(i+P.size()-1) % P.size()]</span><br><span class="line">#define diff(P, i) (next(P, i) - curr(P, i))</span><br><span class="line">#define <span class="keyword">EQ</span>(a,b) (<span class="literal">abs</span>((a)-(b)) &lt; EPS)</span><br><span class="line">namespace std &#123;</span><br><span class="line">  bool operator &lt; (<span class="keyword">const</span> P&amp; a, <span class="keyword">const</span> P&amp; b) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">real</span>(a) != <span class="literal">real</span>(b) ? <span class="literal">real</span>(a) &lt; <span class="literal">real</span>(b) : imag(a) &lt; imag(b);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//overflow注意</span></span><br><span class="line">int distance2(P &amp;a, P &amp;b)&#123; <span class="keyword">return</span> (a.<span class="literal">real</span>() - b.<span class="literal">real</span>()) * (a.<span class="literal">real</span>() - b.<span class="literal">real</span>()) * (a.imag() - b.imag()) * (a.imag() - b.imag()); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//外積</span></span><br><span class="line">double <span class="keyword">cross</span>(<span class="keyword">const</span> P&amp; a, <span class="keyword">const</span> P&amp; b) &#123; <span class="keyword">return</span> imag(conj(a)*b); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//内積</span></span><br><span class="line">double dot(<span class="keyword">const</span> P&amp; a, <span class="keyword">const</span> P&amp; b) &#123; <span class="keyword">return</span> <span class="literal">real</span>(conj(a)*b); &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//線 (線分)</span></span><br><span class="line">struct <span class="keyword">L</span> : public vector&lt;P&gt; &#123;</span><br><span class="line">  <span class="keyword">L</span>(<span class="keyword">const</span> P &amp;a, <span class="keyword">const</span> P &amp;b) &#123;</span><br><span class="line">    push_back(a); push_back(b);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int ccw(P a, P b, P c) &#123;</span><br><span class="line">  b -= a; c -= a;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">cross</span>(b, c) &gt; 0)   <span class="keyword">return</span> +1;       <span class="comment">// counter clockwise</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">cross</span>(b, c) &lt; 0)   <span class="keyword">return</span> -1;       <span class="comment">// clockwise</span></span><br><span class="line">  <span class="keyword">if</span> (dot(b, c) &lt; 0)     <span class="keyword">return</span> +2;       <span class="comment">// c--a--b on line</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">norm</span>(b) &lt; <span class="literal">norm</span>(c)) <span class="keyword">return</span> -2;       <span class="comment">// a--b--c on line</span></span><br><span class="line">  <span class="keyword">return</span> 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//多角形</span></span><br><span class="line">typedef vector&lt;P&gt; <span class="keyword">G</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//円</span></span><br><span class="line">struct C &#123;</span><br><span class="line">  P p; double r;</span><br><span class="line">  C(<span class="keyword">const</span> P &amp;p, double r) : p(p), <span class="literal">r</span>(r) &#123; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//交差判定達 (L = 直線, P = 点, S = 線分)</span></span><br><span class="line"></span><br><span class="line">bool intersectLL(<span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">l</span>, <span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">m</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">abs</span>(<span class="keyword">cross</span>(<span class="keyword">l</span>[1]-<span class="keyword">l</span>[0], <span class="keyword">m</span>[1]-<span class="keyword">m</span>[0])) &gt; EPS || <span class="comment">// non-parallel</span></span><br><span class="line">    <span class="literal">abs</span>(<span class="keyword">cross</span>(<span class="keyword">l</span>[1]-<span class="keyword">l</span>[0], <span class="keyword">m</span>[0]-<span class="keyword">l</span>[0])) &lt; EPS;   <span class="comment">// same line</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool intersectLS(<span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">l</span>, <span class="keyword">const</span> <span class="keyword">L</span> &amp;s) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">cross</span>(<span class="keyword">l</span>[1]-<span class="keyword">l</span>[0], s[0]-<span class="keyword">l</span>[0])*       <span class="comment">// s[0] is left of l</span></span><br><span class="line">    <span class="keyword">cross</span>(<span class="keyword">l</span>[1]-<span class="keyword">l</span>[0], s[1]-<span class="keyword">l</span>[0]) &lt; EPS; <span class="comment">// s[1] is right of l</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool intersectLP(<span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">l</span>, <span class="keyword">const</span> P &amp;p) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">abs</span>(<span class="keyword">cross</span>(<span class="keyword">l</span>[1]-p, <span class="keyword">l</span>[0]-p)) &lt; EPS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool intersectSS(<span class="keyword">const</span> <span class="keyword">L</span> &amp;s, <span class="keyword">const</span> <span class="keyword">L</span> &amp;t) &#123;</span><br><span class="line">  <span class="keyword">return</span> ccw(s[0],s[1],t[0])*ccw(s[0],s[1],t[1]) &lt;= 0 &amp;&amp;</span><br><span class="line">    ccw(t[0],t[1],s[0])*ccw(t[0],t[1],s[1]) &lt;= 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool intersectSP(<span class="keyword">const</span> <span class="keyword">L</span> &amp;s, <span class="keyword">const</span> P &amp;p) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">abs</span>(s[0]-p)+<span class="literal">abs</span>(s[1]-p)-<span class="literal">abs</span>(s[1]-s[0]) &lt; EPS; <span class="comment">// triangle inequality</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//-1 交差しない</span></span><br><span class="line"><span class="comment">//0 接する</span></span><br><span class="line"><span class="comment">//1 一箇所で交差する</span></span><br><span class="line"><span class="comment">//2 二箇所で交差する</span></span><br><span class="line">int intersectSC(<span class="keyword">const</span> <span class="keyword">L</span> &amp;s, <span class="keyword">const</span> C &amp;c) &#123;</span><br><span class="line">  int <span class="keyword">ins</span> = 0;</span><br><span class="line">  <span class="keyword">for</span>(int i = 0; i &lt; 2; i++ ) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">abs</span>(s[i]-c.p)&lt;c.r) <span class="keyword">ins</span>++;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">EQ</span>(<span class="literal">abs</span>(s[i]-c.p), c.r)) <span class="keyword">return</span> 0;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">ins</span> == 2) <span class="keyword">return</span> -1;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">ins</span> == 1) <span class="keyword">return</span> 1;</span><br><span class="line">  double <span class="keyword">d</span> = distanceLP(s, c.p);</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">d</span>-c.r &gt; EPS) <span class="keyword">return</span> -1;</span><br><span class="line">  P nor=(s[0]-s[1]) * P(0, 1);</span><br><span class="line">  <span class="keyword">if</span> (ccw(c.p, c.p+nor, s[0]) * ccw(c.p, c.p+nor, s[1]) &lt; 0) <span class="keyword">return</span> 2;</span><br><span class="line">  <span class="keyword">return</span> -1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//線分lに対する、点pの射影</span></span><br><span class="line"><span class="comment">//射影とは、pからlに垂線を引いた時の交点</span></span><br><span class="line">P projection(<span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">l</span>, <span class="keyword">const</span> P &amp;p) &#123;</span><br><span class="line">  double t = dot(p-<span class="keyword">l</span>[0], <span class="keyword">l</span>[0]-<span class="keyword">l</span>[1]) / <span class="literal">norm</span>(<span class="keyword">l</span>[0]-<span class="keyword">l</span>[1]);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">l</span>[0] + t*(<span class="keyword">l</span>[0]-<span class="keyword">l</span>[1]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//線分lに対する、点pの反射</span></span><br><span class="line"><span class="comment">//反射とは、lを対称軸とした時にpと線対称の位置にある点</span></span><br><span class="line">P reflection(<span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">l</span>, <span class="keyword">const</span> P &amp;p) &#123;</span><br><span class="line">  <span class="keyword">return</span> p + P(2, 0) * (projection(<span class="keyword">l</span>, p) - p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//距離達 (L = 直線, P = 点, S = 線分)</span></span><br><span class="line"></span><br><span class="line">double distancePP(<span class="keyword">const</span> P &amp;a, <span class="keyword">const</span> P &amp;b)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">abs</span>(a - b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">double distanceLP(<span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">l</span>, <span class="keyword">const</span> P &amp;p) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">abs</span>(p - projection(<span class="keyword">l</span>, p));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">double distanceLL(<span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">l</span>, <span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">m</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> intersectLL(<span class="keyword">l</span>, <span class="keyword">m</span>) ? 0 : distanceLP(<span class="keyword">l</span>, <span class="keyword">m</span>[0]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">double distanceLS(<span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">l</span>, <span class="keyword">const</span> <span class="keyword">L</span> &amp;s) &#123;</span><br><span class="line">  <span class="keyword">if</span> (intersectLS(<span class="keyword">l</span>, s)) <span class="keyword">return</span> 0;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">min</span>(distanceLP(<span class="keyword">l</span>, s[0]), distanceLP(<span class="keyword">l</span>, s[1]));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">double distanceSP(<span class="keyword">const</span> <span class="keyword">L</span> &amp;s, <span class="keyword">const</span> P &amp;p) &#123;</span><br><span class="line">  <span class="keyword">const</span> P r = projection(s, p);</span><br><span class="line">  <span class="keyword">if</span> (intersectSP(s, r)) <span class="keyword">return</span> <span class="literal">abs</span>(r - p);</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">min</span>(<span class="literal">abs</span>(s[0] - p), <span class="literal">abs</span>(s[1] - p));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">double distanceSS(<span class="keyword">const</span> <span class="keyword">L</span> &amp;s, <span class="keyword">const</span> <span class="keyword">L</span> &amp;t) &#123;</span><br><span class="line">  <span class="keyword">if</span> (intersectSS(s, t)) <span class="keyword">return</span> 0;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">min</span>(<span class="literal">min</span>(distanceSP(s, t[0]), distanceSP(s, t[1])),</span><br><span class="line">      <span class="literal">min</span>(distanceSP(t, s[0]), distanceSP(t, s[1])));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//交点達</span></span><br><span class="line">P crosspointLL(<span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">l</span>, <span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">m</span>) &#123;</span><br><span class="line">  double A = <span class="keyword">cross</span>(<span class="keyword">l</span>[1] - <span class="keyword">l</span>[0], <span class="keyword">m</span>[1] - <span class="keyword">m</span>[0]);</span><br><span class="line">  double B = <span class="keyword">cross</span>(<span class="keyword">l</span>[1] - <span class="keyword">l</span>[0], <span class="keyword">l</span>[1] - <span class="keyword">m</span>[0]);</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">abs</span>(A) &lt; EPS &amp;&amp; <span class="literal">abs</span>(B) &lt; EPS) <span class="keyword">return</span> <span class="keyword">m</span>[0]; <span class="comment">// same line</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">abs</span>(A) &lt; EPS) <span class="keyword">assert</span>(false); <span class="comment">// !!!PRECONDITION NOT SATISFIED!!!</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">m</span>[0] + B / A * (<span class="keyword">m</span>[1] - <span class="keyword">m</span>[0]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vector&lt;P&gt; crosspointCL(<span class="keyword">const</span> C &amp;c, <span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">l</span>)&#123;</span><br><span class="line">  vector&lt;P&gt; res;</span><br><span class="line">  double <span class="keyword">d</span> = distanceLP(<span class="keyword">l</span>, c.p);</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">d</span> &lt; c.r + EPS)&#123;</span><br><span class="line">    double len = (<span class="keyword">d</span> &gt; c.r) ? 0.0 : <span class="literal">sqrt</span>(c.r * c.r - <span class="keyword">d</span> * <span class="keyword">d</span>);</span><br><span class="line">    P nor = (<span class="keyword">l</span>[0] - <span class="keyword">l</span>[1]) / <span class="literal">abs</span>(<span class="keyword">l</span>[0] - <span class="keyword">l</span>[1]);</span><br><span class="line">    res.push_back(projection(<span class="keyword">l</span>, c.p) + len * nor);</span><br><span class="line">    res.push_back(projection(<span class="keyword">l</span>, c.p) - len * nor);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vector&lt;P&gt; crosspointCS(<span class="keyword">const</span> C &amp;c, <span class="keyword">const</span> <span class="keyword">L</span> &amp;s)&#123;</span><br><span class="line">  vector&lt;P&gt; v = crosspointCL(c, <span class="keyword">l</span>), res;</span><br><span class="line">  REP(k, v.size()) <span class="keyword">if</span>(ccw(<span class="keyword">l</span>[0], v[k], <span class="keyword">l</span>[1]) == -2) res.push_back(v[k]);</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">vector&lt;P&gt; crosspointCC(<span class="keyword">const</span> C &amp;c1, <span class="keyword">const</span> C &amp;c2)&#123;</span><br><span class="line">  vector&lt;P&gt; res;</span><br><span class="line">  double <span class="keyword">d</span> = <span class="literal">abs</span>(c1.p - c2.p);</span><br><span class="line">  double rc = (<span class="keyword">d</span> * <span class="keyword">d</span> + c1.r * c1.r - c2.r * c2.r) / (2 * <span class="keyword">d</span>);</span><br><span class="line">  double dfr = c1.r * c1.r - rc * rc;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">EQ</span>(dfr, 0.0)) dfr = 0.0;</span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span>(dfr &lt; 0.0) <span class="keyword">return</span> res;</span><br><span class="line">  double rs = <span class="literal">sqrt</span>(dfr);</span><br><span class="line"></span><br><span class="line">  P diff = (c2.p - c1.p) / <span class="keyword">d</span>;</span><br><span class="line">  res.push_back(c1.p + diff * P(rc, rs));</span><br><span class="line">  res.push_back(c1.p + diff * P(rc, -rs));</span><br><span class="line">  <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//直交かどうか</span></span><br><span class="line">bool orthogonalLL(<span class="keyword">const</span> <span class="keyword">L</span> &amp;l1, <span class="keyword">const</span> <span class="keyword">L</span> &amp;l2)&#123;</span><br><span class="line">  <span class="keyword">return</span> (dot(l1[0]-l1[1], l2[0]-l2[1]) &lt;= EPS &amp;&amp; dot(l1[0]-l1[1], l2[0]-l2[1]) &gt;= -EPS);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//平行かどうか</span></span><br><span class="line">bool parallel(<span class="keyword">const</span> <span class="keyword">L</span> &amp;l1, <span class="keyword">const</span> <span class="keyword">L</span> &amp;l2)&#123;</span><br><span class="line">  <span class="keyword">return</span> (<span class="keyword">cross</span>(l1[0]-l1[1], l2[0]-l2[1]) &lt;= EPS &amp;&amp; <span class="keyword">cross</span>(l1[0]-l1[1], l2[0]-l2[1]) &gt;= -EPS);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//多角形の面積</span></span><br><span class="line">double area2(<span class="keyword">const</span> <span class="keyword">G</span> &amp;P) &#123;</span><br><span class="line">  double A = 0.0;</span><br><span class="line">  <span class="keyword">for</span> (int i = 0; i &lt; P.size(); ++i)</span><br><span class="line">    A += <span class="keyword">cross</span>(curr(P, i), next(P, i));</span><br><span class="line">  <span class="keyword">return</span> A / 2.0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//凸性判定</span></span><br><span class="line"><span class="comment">//ただし、凸性の定義(全ての角が180度未満)より、0度の角があるようなものも凸とする。</span></span><br><span class="line"><span class="comment">//convex_hullして点の数を比較したほうが安全な気がする</span></span><br><span class="line">bool isconvex(<span class="keyword">const</span> <span class="keyword">G</span> &amp;P) &#123;</span><br><span class="line">  <span class="keyword">for</span> (int i = 0; i &lt; P.size(); ++i)</span><br><span class="line">    <span class="keyword">if</span> (ccw(prev(P, i), curr(P, i), next(P, i)) == 1) <span class="keyword">return</span> false;</span><br><span class="line">  <span class="keyword">return</span> true;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//点-多角形包含判定</span></span><br><span class="line">enum &#123; <span class="keyword">OUT</span>, <span class="keyword">ON</span>, <span class="keyword">IN</span> &#125;;</span><br><span class="line">int contains(<span class="keyword">const</span> <span class="keyword">G</span> &amp;<span class="keyword">g</span>, <span class="keyword">const</span> P &amp;p) &#123;</span><br><span class="line">  bool <span class="keyword">in</span> = false;</span><br><span class="line">  <span class="keyword">for</span> (int i = 0; i &lt; <span class="keyword">g</span>.size(); ++i) &#123;</span><br><span class="line">    P a = curr(<span class="keyword">g</span>,i) - p, b = next(<span class="keyword">g</span>,i) - p;</span><br><span class="line">    <span class="keyword">if</span> (imag(a) &gt; imag(b)) swap(a, b);</span><br><span class="line">    <span class="keyword">if</span> (imag(a) &lt;= 0 &amp;&amp; 0 &lt; imag(b))</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">cross</span>(a, b) &lt; 0) <span class="keyword">in</span> = !<span class="keyword">in</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">cross</span>(a, b) == 0 &amp;&amp; dot(a, b) &lt;= 0) <span class="keyword">return</span> <span class="keyword">ON</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">in</span> ? <span class="keyword">IN</span> : <span class="keyword">OUT</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//凸包</span></span><br><span class="line"><span class="keyword">G</span> convex_hull(<span class="keyword">G</span> &amp;ps) &#123;</span><br><span class="line">  int <span class="keyword">n</span> = ps.size(), k = 0;</span><br><span class="line">  <span class="keyword">sort</span>(ps.begin(), ps.end());</span><br><span class="line">  <span class="keyword">G</span> ch(2*<span class="keyword">n</span>);</span><br><span class="line">  <span class="keyword">for</span> (int i = 0; i &lt; <span class="keyword">n</span>; ch[k++] = ps[i++]) <span class="comment">// lower-hull</span></span><br><span class="line">    <span class="keyword">while</span> (k &gt;= 2 &amp;&amp; ccw(ch[k-2], ch[k-1], ps[i]) == -1) --k;</span><br><span class="line">  <span class="keyword">for</span> (int i = <span class="keyword">n</span>-2, t = k+1; i &gt;= 0; ch[k++] = ps[i--]) <span class="comment">// upper-hull</span></span><br><span class="line">    <span class="keyword">while</span> (k &gt;= t &amp;&amp; ccw(ch[k-2], ch[k-1], ps[i]) == -1) --k;</span><br><span class="line">  ch.resize(k-1);</span><br><span class="line">  <span class="keyword">return</span> ch;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//凸多角形の直径</span></span><br><span class="line"><span class="comment">//直径とは、ある頂点と別の頂点が結ぶ距離の最長のこと</span></span><br><span class="line">double convex_diameter(<span class="keyword">const</span> <span class="keyword">G</span> &amp;pt) &#123;</span><br><span class="line">  <span class="keyword">const</span> int <span class="keyword">n</span> = pt.size();</span><br><span class="line">  int is = 0, js = 0;</span><br><span class="line">  <span class="keyword">for</span> (int i = 1; i &lt; <span class="keyword">n</span>; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (imag(pt[i]) &gt; imag(pt[is])) is = i;</span><br><span class="line">    <span class="keyword">if</span> (imag(pt[i]) &lt; imag(pt[js])) js = i;</span><br><span class="line">  &#125;</span><br><span class="line">  double maxd = <span class="literal">norm</span>(pt[is]-pt[js]);</span><br><span class="line"></span><br><span class="line">  int i, maxi, j, maxj;</span><br><span class="line">  i = maxi = is;</span><br><span class="line">  j = maxj = js;</span><br><span class="line">  <span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">cross</span>(diff(pt,i), diff(pt,j)) &gt;= 0) j = (j+1) % <span class="keyword">n</span>;</span><br><span class="line">    <span class="keyword">else</span> i = (i+1) % <span class="keyword">n</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="literal">norm</span>(pt[i]-pt[j]) &gt; maxd) &#123;</span><br><span class="line">      maxd = <span class="literal">norm</span>(pt[i]-pt[j]);</span><br><span class="line">      maxi = i; maxj = j;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">while</span> (i != is || j != js);</span><br><span class="line">  <span class="keyword">return</span> maxd; <span class="comment">/* farthest pair is (maxi, maxj). */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//最近点対 (求めるのは距離だけで、ペアの2点は求めない)</span></span><br><span class="line"><span class="comment">//多角形gで呼び出す時は、convex_radius(&amp;g[0], N)みたいに配列になおしてください！</span></span><br><span class="line"><span class="comment">//また、gはあらかじめcompare_xでソートして下さい。</span></span><br><span class="line">double compare_x(<span class="keyword">const</span> P &amp;a, <span class="keyword">const</span> P &amp;b)&#123;</span><br><span class="line">  <span class="keyword">return</span> a.X != b.X ? a.X &lt; b.X : a.Y &lt; b.Y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">double compare_y(<span class="keyword">const</span> P &amp;a, <span class="keyword">const</span> P &amp;b)&#123;</span><br><span class="line">  <span class="keyword">return</span> a.Y != b.Y ? a.Y &lt; b.Y : a.X &lt; b.X;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">double convex_radius(P *a, int <span class="keyword">n</span>)&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="keyword">n</span> &lt;= 1) <span class="keyword">return</span> <span class="keyword">INF</span>;</span><br><span class="line">  int <span class="keyword">m</span> = <span class="keyword">n</span> / 2;</span><br><span class="line">  double x = a[<span class="keyword">m</span>].X;</span><br><span class="line">  double <span class="keyword">d</span> = <span class="literal">min</span>(convex_radius(a, <span class="keyword">m</span>), convex_radius(a + <span class="keyword">m</span>, <span class="keyword">n</span> - <span class="keyword">m</span>));</span><br><span class="line">  <span class="keyword">sort</span>(a, a + <span class="keyword">n</span>, compare_y);</span><br><span class="line">  vector&lt;P&gt; b;</span><br><span class="line">  <span class="keyword">for</span>(int i = 0; i &lt; <span class="keyword">n</span>; ++i)&#123;</span><br><span class="line">    <span class="keyword">if</span>(fabs(a[i].X - x) &gt;= <span class="keyword">d</span>) <span class="keyword">continue</span>;</span><br><span class="line">    <span class="keyword">for</span>(int j = 0; j &lt; (int)b.size(); ++j)&#123;</span><br><span class="line">      P p0 = a[i], p1 = b[(int)(b.size()) - j - 1];</span><br><span class="line">      <span class="keyword">if</span>(p0.Y - p1.Y &gt;= <span class="keyword">d</span>) <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">d</span> = <span class="literal">min</span>(<span class="keyword">d</span>, <span class="literal">abs</span>(p0 - p1));</span><br><span class="line">    &#125;</span><br><span class="line">    b.push_back(a[i]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">d</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 凸多角形の直線カット</span></span><br><span class="line"><span class="comment">// 凸多角形を直線で切断し、その左側(直線と交差する点も含む)だけを残す</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">G</span> convex_cut(<span class="keyword">const</span> <span class="keyword">G</span> &amp;<span class="keyword">g</span>, <span class="keyword">const</span> <span class="keyword">L</span> &amp;<span class="keyword">l</span>)&#123;</span><br><span class="line">  <span class="keyword">G</span> Q;</span><br><span class="line">  REP(i, <span class="keyword">g</span>.size())&#123;</span><br><span class="line">    P A = curr(<span class="keyword">g</span>, i), B = next(<span class="keyword">g</span>, i);</span><br><span class="line">    <span class="keyword">if</span>(ccw(<span class="keyword">l</span>[0], <span class="keyword">l</span>[1], A) != -1) Q.push_back(A);</span><br><span class="line">    <span class="keyword">if</span>(ccw(<span class="keyword">l</span>[0], <span class="keyword">l</span>[1], A) * ccw(<span class="keyword">l</span>[0], <span class="keyword">l</span>[1], B) &lt; 0) Q.push_back(crosspointLL(<span class="keyword">L</span>(A, B), <span class="keyword">l</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> Q;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ベクトルの回転</span></span><br><span class="line">P rotation(P v, double r)&#123;</span><br><span class="line">  <span class="keyword">return</span> P(v.<span class="literal">real</span>() * <span class="literal">cos</span>(r) - v.imag() * <span class="literal">sin</span>(r), v.<span class="literal">real</span>() * <span class="literal">sin</span>(r) + v.imag() * <span class="literal">cos</span>(r));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ベクトル間の角度</span></span><br><span class="line"><span class="literal">atan2</span>(x1 * y2 - x2 * y1, x1 * x2 + y1 * y2);</span><br></pre></td></tr></table></figure>

      </div>
      <footer class="article-footer">
        <a data-url="http://yoursite.com/2015/12/05/競プロ用C-ライブラリ-幾何/" data-id="cihu1hxrq00060jw7aalne0t9" class="article-share-link"><i class="fa fa-share"></i>Share</a>
        
          <a href="http://yoursite.com/2015/12/05/競プロ用C-ライブラリ-幾何/#comments" class="article-comment-link"><i class="fa fa-comments"></i>Comments</a>
        
        
      </footer>
    </div>
  </article>
  
    <section id="comments">
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
      </div>
    </section>
  
  

            </div>
          </section>
          <aside id="sidebar">
  <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
  <div class="sidebar-top">
    <p>follow:</p>
    <ul class="social-links">
      
        <li><a class="social-tooltip" title="twitter" href="https://twitter.com/alotofwe" target="_blank"><i class="icon fa fa-twitter"></i></a></li>
      
        <li><a class="social-tooltip" title="github" href="https://github.com/alotofwe" target="_blank"><i class="icon fa fa-github"></i></a></li>
      
        <li><a class="social-tooltip" title="rss" href="http://alotofwe.github.io/atom.xml" target="_blank"><i class="icon fa fa-rss"></i></a></li>
      
        <li><a class="social-tooltip" title="book" href="http://booklog.jp/users/anyaneko" target="_blank"><i class="icon fa fa-book"></i></a></li>
      
    </ul>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/12/05/CODE-THANKS-FESTIVAL-2015/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">newer</strong>
      <p class="article-nav-title">
        
          CODE THANKS FESTIVAL 2015
        
      </p>
      <i class="icon fa fa-chevron-right" id="icon-chevron-right"></i>
    </a>
  
  
    <a href="/2015/12/05/競プロ用C-ライブラリ-幾何以外/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">older</strong>
      <p class="article-nav-title">競プロ用C++ライブラリ-幾何以外</p>
      <i class="icon fa fa-chevron-left" id="icon-chevron-left"></i>
    </a>
  
</nav>

  
  <div class="widgets-container">
    
      
  <div class="widget-wrap">
    <h3 class="widget-title">recents</h3>
    <div class="widget">
      <ul id="recent-post" class="no-thumbnail">
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/競プロ/">競プロ</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/競プロ/CodeFestival/">CodeFestival</a></p>
              <p class="item-title"><a href="/2015/12/05/CODE-THANKS-FESTIVAL-2015/" class="title">CODE THANKS FESTIVAL 2015</a></p>
              <p class="item-date"><time datetime="2015-12-05T05:49:06.000Z" itemprop="datePublished">2015-12-05</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/競プロ/">競プロ</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/競プロ/library/">library</a></p>
              <p class="item-title"><a href="/2015/12/05/競プロ用C-ライブラリ-幾何/" class="title">競プロ用C++ライブラリ-幾何</a></p>
              <p class="item-date"><time datetime="2015-12-05T05:01:24.000Z" itemprop="datePublished">2015-12-05</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/競プロ/">競プロ</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/競プロ/library/">library</a></p>
              <p class="item-title"><a href="/2015/12/05/競プロ用C-ライブラリ-幾何以外/" class="title">競プロ用C++ライブラリ-幾何以外</a></p>
              <p class="item-date"><time datetime="2015-12-05T05:01:00.000Z" itemprop="datePublished">2015-12-05</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/競プロ/">競プロ</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/競プロ/library/">library</a></p>
              <p class="item-title"><a href="/2015/12/05/競プロ用C-テンプレート/" class="title">競プロ用C++テンプレート</a></p>
              <p class="item-date"><time datetime="2015-12-05T05:00:57.000Z" itemprop="datePublished">2015-12-05</time></p>
            </div>
          </li>
        
          <li>
            
            <div class="item-inner">
              <p class="item-category"><a class="article-category-link" href="/categories/application/">application</a><i class="icon fa fa-angle-right"></i><a class="article-category-link" href="/categories/application/rails/">rails</a></p>
              <p class="item-title"><a href="/2015/12/03/RailsでSidekiqのログをLTSVで出力する/" class="title">RailsでSidekiqのログをLTSVで出力する</a></p>
              <p class="item-date"><time datetime="2015-12-03T14:42:56.000Z" itemprop="datePublished">2015-12-03</time></p>
            </div>
          </li>
        
      </ul>
    </div>
  </div>

    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/application/">application</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/application/rails/">rails</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/競プロ/">競プロ</a><span class="category-list-count">4</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/競プロ/CodeFestival/">CodeFestival</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/競プロ/library/">library</a><span class="category-list-count">3</span></li></ul></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">6</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-list">
    <h3 class="widget-title">tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ltsv/">ltsv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sidekiq/">sidekiq</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget-wrap widget-float">
    <h3 class="widget-title">tag cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ltsv/" style="font-size: 10px;">ltsv</a> <a href="/tags/sidekiq/" style="font-size: 10px;">sidekiq</a>
    </div>
  </div>


    
  </div>
</aside>
        </div>
      </div>
    </div>
    <footer id="footer">
  
  <div class="container">
    <div class="container-inner">
      <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
      <div class="credit">
        <h1 class="logo-wrap">
          <a href="/" class="logo"></a>
        </h1>
        <p>&copy; 2015 alotofwe</p>
        <p>Powered by <a href="//hexo.io/" target="_blank">Hexo</a>. Theme by <a href="//github.com/ppoffice" target="_blank">PPOffice</a></p>
      </div>
    </div>
  </div>
</footer>
    
<script>
  var disqus_shortname = 'hpalotofwe';
  
  
  var disqus_url = 'http://yoursite.com/2015/12/05/競プロ用C-ライブラリ-幾何/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



  <script src="http://code.jquery.com/jquery-2.1.3.min.js"></script>



  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



  <script src="/scrollLoading/jquery.scrollLoading.js" type="text/javascript"></script>
  <script src="/scrollLoading/main.js" type="text/javascript"></script>




<script src="/js/html-patch.js" type="text/javascript"></script>
<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>
